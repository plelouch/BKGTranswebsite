{% extends 'base.html.twig' %}

{% block title %} Factures numéros {{ facture.numFacture }} {% endblock %}

{% block body %}
    <div class="container my-5">
        <h1 class="mb-5 text-center">
            Facture numéros {{ facture.numFacture }}
            <a href="#" onclick="imprimer('aImprimer')" class="btn btn-outline-warning mb-5"><i class="fa fa-print"></i> Imprimez </a>
        </h1>

        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div id="aImprimer" class="card-body">
                        <div class="row">
                            <div class="col-sm-4">
                                <h3>Facture</h3>
                            </div>
                            <div class="col-sm-4"></div>
                            <div class="col-sm-4">
                                <h5>Date: {{ facture.dateAt | date('d-m-Y') }}</h5>
                            </div>
                        </div>
                        <div class="jumbotron">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h3>Facture à</h3>
                                    <p>{{ facture.client.fullName }}</p>
                                    <p>Contact : {{ facture.client.contact }}</p>
                                    <p>CIN : {{ facture.client.numCin }}</p>
                                </div>
                                <div class="col-sm-4">
                                    <h3>Etablisement</h3>
                                    <p></p>
                                    <p></p>
                                    <p></p>
                                    <p></p>
                                </div>
                                <div class="col-sm-4">
                                    <h3>Facture N° : {{ facture.numFacture }}</h3>
                                    <p>Date: {{ facture.dateAt | date('d-m-Y') }}</p>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered" id="dataTable" width="100%" cellspacing="0">
                                <thead>
                                <tr>
                                    <th>Immatriculation voiture</th>
                                    <th>Marque voiture </th>
                                    <th>Modele voiture</th>
                                    <th>Couleur voiture</th>
                                    <th>Compteur voiture</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>{{ voiture.matricule }}</td>
                                    <td>{{ voiture.marque }}</td>
                                    <td>{{ voiture.modele }}</td>
                                    <td>{{ voiture.couleur }}</td>
                                    <td>{{ voiture.compteur }}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered" id="dataTable" width="100%" cellspacing="0">
                                <thead>
                                <tr>
                                    <th>Date de location</th>
                                    <th>Date et Heure de Départ </th>
                                    <th>Date et Heure d'arriver</th>
                                    <th>Prix de la location</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>{{ location.dateLocation|date('d-m-Y') }}</td>
                                    <td>{{ location.departAt|date('d-m-Y') }} à {{ location.departAt|date('H:i') }}</td>
                                    <td>{{ location.ArriveAt|date('d-m-Y') }} à {{ location.ArriveAt|date('H:i') }}</td>
                                    <td>{{ location.price }} Fcfa</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="row">
                            <div class="col-sm-7"></div>
                            <div class="col-sm-5">
                                <div class="row">
                                    <div class="col-sm-6"><h4>Prix à payer = </h4></div>
                                    <div class="col-sm-6"><h4>{{ location.price }} Fcfa</h4></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div><!--/.row-->
    </div>
{% endblock %}
{% block javascripts %}
    <script>
        function imprimer(divName){
            var printContents = document.getElementById(divName).innerHTML;
            var originalContents = document.body.innerHTML;
            document.body.innerHTML = printContents;
            window.print();
            document.body.innerHTML = originalContents;
        }
    </script>
{% endblock %}