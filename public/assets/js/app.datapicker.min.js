$(document).ready(function(){
    $('#booking_startDate, #booking_endDate').datepicker({
        format: 'dd/mm/yyyy',
        datesDisabled: [
            {% for days in ad.notAvailableDays %}
    "{{ days.format('d/m/Y') }}",
    {% endfor %}
],
    startDate: new Date()
});
    $('#booking_startDate, #booking_endDate').on('change', calculateAmount);
});
function calculateAmount(){
    const endDate = new Date($('#booking_endDate').val().replace(/(\d+)\/(\d+)\/(\d{4})/, '$3-$2-$1'));
    const startDate = new Date($('#booking_startDate').val().replace(/(\d+)\/(\d+)\/(\d{4})/, '$3-$2-$1'));

    if (startDate && endDate && startDate < endDate){
        const DAY_TIME = 24 * 60 * 60 * 1000;

        const intervalle = endDate.getTime() - startDate.getTime();
        const days = intervalle / DAY_TIME;
        const amount = days * {{ ad.price }};

        $('#days').text(days);
        $('#amount').text(amount.toLocaleString("fr-FR"));
    }
}